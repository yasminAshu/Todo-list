(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(n,t,e){n.exports=e(37)},30:function(n,t,e){},37:function(n,t,e){"use strict";e.r(t);var o=e(0),r=e.n(o),a=e(11),i=e.n(a),c=(e(30),e(7)),d=e(12),u=e(15),s=e(13),l=e(16),f=e(1),p=e(2);function h(){var n=Object(f.a)(["\n  position: relative;\n  display: flex;\n  align-items: stretch;\n"]);return h=function(){return n},n}function b(){var n=Object(f.a)(["\n  width: 80%;\n  margin-left: 10%;\n"]);return b=function(){return n},n}function g(){var n=Object(f.a)(["\n  color: #fff;\n  background-color: #6c757d;\n  border: none;\n  border-radius: 8px;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  height: 38px;\n  margin-left: -4px;\n"]);return g=function(){return n},n}function m(){var n=Object(f.a)(["\n  display: inline-block;\n  margin-bottom: 0.5rem;\n"]);return m=function(){return n},n}function O(){var n=Object(f.a)(["\n  display: block;\n  width: 90%;\n  padding: 6px 12px;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  background-color: #fff;\n  border: 1px solid #ced4da;\n  border-radius: 8px;\n"]);return O=function(){return n},n}var E=p.a.input(O()),v=p.a.label(m()),T=p.a.button(g()),y=p.a.div(b()),x=p.a.div(h()),j=function(n){function t(n){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this,n))).onChange=function(n){var t=n.target.value;e.setState({text:t})},e.onKeyDown=function(n){var t=n.target.value;13===n.which&&(e.props.addTodo(t),e.setState({text:""}))},e.state={text:""},e}return Object(l.a)(t,n),Object(d.a)(t,[{key:"render",value:function(){var n=this;return r.a.createElement(y,null,r.a.createElement(v,{htmlFor:"addTodo"},"Add Todo"),r.a.createElement(x,null,r.a.createElement(E,{id:"addTodo",type:"text",onChange:this.onChange,onKeyDown:this.onKeyDown}),r.a.createElement(T,{onClick:function(){return n.props.addTodo(n.state.text)}},"Add Toto ")))}}]),t}(r.a.Component);function w(){var n=Object(f.a)(["\n  cursor: pointer;\n  position: absolute;\n  top: 50%;\n  right: 0%;\n  padding: 12px 16px;\n  transform: translate(0%, -50%);\n  &:hover {\n    background: #bbb;\n  }\n"]);return w=function(){return n},n}function C(){var n=Object(f.a)(["\n  border: 1px solid #ddd;\n  margin-top: -1px;\n  background-color: #f6f6f6;\n  padding: 12px;\n  text-decoration: none;\n  font-size: 18px;\n  color: black;\n  display: block;\n  position: relative;\n  text-align: left;\n"]);return C=function(){return n},n}var F=p.a.li(C()),D=p.a.span(w()),I=function(n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F,null,n.todo.name,r.a.createElement(D,{onClick:function(){return n.deleteTodo(n.todo.id)}},"\xd7")))};function _(){var n=Object(f.a)(["\n  list-style-type: none;\n  padding: 0;\n"]);return _=function(){return n},n}function S(){var n=Object(f.a)(["\n  width: 80%;\n  margin-left: 106px;\n"]);return S=function(){return n},n}var A=p.a.div(S()),k=p.a.ul(_()),L=function(n){return Object(o.useEffect)(function(){n.getTodos()},[]),r.a.createElement(A,null,r.a.createElement(k,null,n.todos&&n.todos.map(function(t,e){return r.a.createElement(I,{todo:t,deleteTodo:n.deleteTodo})})))},R=e(4),N=e(10),U={500:"internal server error",503:"service unavailable"},J=function(){var n,t=Object.keys(U),e=t[(n=t.length,Math.floor(Math.random()*n))];return{message:U[e],status:e}},G=function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];return new Promise(function(t,o){setTimeout(function(){if(Math.random()>.1)t(n.apply(void 0,e));else{var r=Object(R.a)({success:!1},J());o(r)}},500)})},K=new function n(t){var e=this;Object(c.a)(this,n),this.createTodo=function(n){return e.incrementTodoIndex(),e.todos=[].concat(Object(N.a)(e.todos),[Object(R.a)({id:e.todoIndex},n)]),e.syncTodos(),e.successfulResponse({id:e.todoIndex})},this.deleteTodo=function(n){return e.todos=e.todos.filter(function(t){var e=t.id;return n!==e}),e.syncTodos(),e.successfulResponse()},this.getAllTodos=function(){return e.successfulResponse(e.todos)},this.syncTodos=function(){e.db.setItem("todos",JSON.stringify(e.todos))},this.incrementTodoIndex=function(){e.todoIndex+=1,e.db.setItem("todoIndex",e.todoIndex)},this.successfulResponse=function(n){return{payload:n,success:!0}},this.db=t;var o=t.getItem("todos");this.todos=o?JSON.parse(o):[];var r=t.getItem("todoIndex");this.todoIndex=r?Number(r):0}(localStorage),M=function(n){if(!n.name)throw Error("TODO CREATE: todo needs to have a property called 'name'");return G(K.createTodo,n)},z=function(n){if(!n&&0!==n)throw Error("TODO DELETE: parameter 'id' is required");if("number"!==typeof n)throw Error("TODO DELETE: parameter 'id' needs to be of type number");return G(K.deleteTodo,n)},B=function(){return G(K.getAllTodos)},W=e(14);function q(){var n=Object(f.a)(["\n  background-color: #0080ff;\n  color: white;\n  padding: 1em;\n}\n"]);return q=function(){return n},n}var P=p.a.div(q()),$=function(n){return function(t){var e=t.isFetching,o=t.children,a=e&&"error"!==e?"Data Fetching":"Error while fetching Data";return r.a.createElement(n,null,e&&r.a.createElement(P,null,a),o)}};function H(){var n=Object(f.a)(["\n    align-self:center;\n    padding:10px;\n    margin:10px;\n    width:80%;\n    height: 600px;  \n    box-shadow: 0px 3px 18px -7px rgba(0,0,0,0.68);\n    max-height: 600px;\n    overflow: auto;\n}\n"]);return H=function(){return n},n}function Q(){var n=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n  text-align: center;\n  width: 100%;\n"]);return Q=function(){return n},n}var V=p.a.div(Q()),X=p.a.div(H()),Y=function(n){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,n),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(V,null,r.a.createElement(X,null,r.a.createElement(Z,{isFetching:this.props.isFetching},r.a.createElement(j,{addTodo:this.props.addTodo}),r.a.createElement(L,{getTodos:this.props.getTodos,todos:this.props.todos,deleteTodo:this.props.deleteTodo}))))}}]),t}(r.a.Component),Z=$(function(n){var t=n.children;return r.a.createElement("div",null,t)}),nn=Object(W.b)(function(n){return{todos:n.reducer.todos,isFetching:n.reducer.isFetching}},function(n){return{addTodo:function(t){var e;n((e=t,function(n){var t={name:e};n({type:"CREATE_TODO_INITIATE",payload:{isFetching:!0}}),M(t).then(function(t){n({type:"CREATE_TODO_SUCCESS",payload:{name:e,id:t.payload.id,isFetching:!1}})}).catch(function(t){n({type:"CREATE_TODO_FAIL",payload:{isFetching:"error"}})})}))},getTodos:function(){n(function(n){B().then(function(t){n({type:"GETALL_TODO_SUCCESS",payload:t.payload})}).catch(function(t){n({type:"GETALL_TODO_FAIL",payload:{isFetching:"error"}})})})},deleteTodo:function(t){n(function(n){return function(t){z(n).then(function(e){t({type:"DELETE_TODO_SUCCESS",payload:n})}).catch(function(n){t({type:"DELETE_TODO_FAIL",payload:{isFetching:"error"}})})}}(t))}}})(Y);var tn=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(nn,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var en=e(5),on=e(23),rn={todos:[],isFetching:!1},an=Object(en.c)({reducer:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0,e=t.type,o=t.payload;switch(e){case"CREATE_TODO_SUCCESS":var r=Object(N.a)(n.todos);return r.push(o),Object(R.a)({},n,{todos:r,isFetching:o.isFetching});case"CREATE_TODO_INITIATE":case"CREATE_TODO_FAIL":return Object(R.a)({},n,{isFetching:o.isFetching});case"GETALL_TODO_SUCCESS":return Object(R.a)({},n,{todos:o,isFetching:o.isFetching});case"DELETE_TODO_SUCCESS":var a=Object(N.a)(n.todos);return a=a.filter(function(n){return n.id!==o}),Object(R.a)({},n,{todos:a,isFetching:o.isFetching});default:return n}}}),cn=[on.a],dn=Object(en.e)(an,{},Object(en.d)(en.a.apply(void 0,cn)));i.a.render(r.a.createElement(W.a,{store:dn},r.a.createElement(tn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.4455c740.chunk.js.map